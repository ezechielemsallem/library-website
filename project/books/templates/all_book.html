{% extends "layout.html" %}
{% block title %}Index{% endblock %}
{% block head %}
{{ super() }}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<style type="text/css">
  .important {
    color: #336699;
  }
</style>
{% endblock %}
{% block content %}
<style>
  .btn {
    margin-bottom: 10px;
  }

  .card {
    min-width: 180px;
  }
</style>
<h1>All Books</h1>
<p class="important">
<div class="row row-cols-1 row-cols-md-5 g-4">
  {%- if count_books > 0 %}
  {%- for book in Books %}
  <div class="col">
    <div class="card">
      <img src="{{url_for('static', filename='book.jpeg')}}" class="card-img-top">
      <div class="card-body">
        <p class="card-text">ID : {{ book.book_id}}</p>
        <p class="card-text">Name : {{ book.book_name}}</p>
        <div class="card-text dropdown">
          <p class=" dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false"> More Information
          </p>
          <ul class="dropdown-menu">
            <li>
              <p class="dropdown-item">Author : {{book.author}}</p>
            </li>
            <li>
              <p class="dropdown-item">Year : {{book.year}}</p>
            </li>
            <li>
              <p class="dropdown-item">Type : {{book.type}}</p>
            </li>
            <li>
              <p class="dropdown-item">Loans : {{book.loans}}</p>
            </li>
          </ul>
        </div>
        <br>

        <a class="btn btn-success" href="http://127.0.0.1:5000/books/all_books/{{ book.book_id}}">Show All</a>
        <a class="btn btn-success" href="http://127.0.0.1:5000/books/upload_book/{{ book.book_id}}">Modify</a>
        <a class="btn btn-success" href="http://127.0.0.1:5000/books/del_book/{{ book.book_id}}">del</a>

      </div>
    </div>
  </div>
  {% endfor %}
  {%- else %}
  <div class="col">
      <div class="card">
          <img src="{{url_for('static', filename='book.jpeg')}}" class="card-img-top">
          <div class="card-body">
              <p class="card-text">You don't have books</p>
              <a class="btn btn-success" href="http://127.0.0.1:5000/books/add_book/">Add a Book</a>
              
          </div>
      </div>
  </div>
  {%- endif %}
  {% endblock %}